"use strict";(self["webpackChunkstudy_market_vue3"]=self["webpackChunkstudy_market_vue3"]||[]).push([[474],{9474:function(e,t,s){s.r(t),s.d(t,{default:function(){return Y}});var l=s(3396),a=s(7139),o=s(9242);const c={key:0},d={key:1},r={key:2},i={class:"item"},u={class:"item__pics pics"},n={class:"pics__wrapper"},_=["src","srcset","alt"],p={class:"item__info"},m={class:"item__code"},f={class:"item__title"},b={class:"item__form"},g={class:"item__price"},v={class:"form__block"},w=(0,l._)("legend",{class:"form__legend"},"Цвет:",-1),y={class:"colors"},k={class:"colors__label"},S=["name","value"],h={key:0,class:"form__block"},T={class:"form__legend"},V={class:"sizes sizes--primery"},C={class:"sizes__label"},D=["name","value","checked"],z={class:"sizes__value"},P={class:"item__row"},A=["disabled"],Z={key:1},O={key:2},U={class:"item__desc"};function q(e,t,s,q,W,B){const H=(0,l.up)("preloader-pic"),L=(0,l.up)("custom-counter"),N=(0,l.up)("base-modal"),j=(0,l.up)("BaseTabs");return e.productStatus.isLoading?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(H)])):e.productStatus.isFailed?((0,l.wg)(),(0,l.iD)("div",d,"Не удалось загрузить товар")):((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("section",i,[(0,l._)("div",u,[(0,l._)("div",n,[(0,l._)("img",{width:"570",height:"570",src:e.product.imageSrc,srcset:e.product.imageSrcset,alt:e.product.title},null,8,_)])]),(0,l._)("div",p,[(0,l._)("span",m,"Артикул: "+(0,a.zw)(e.product.id),1),(0,l._)("h2",f,(0,a.zw)(e.content.title),1),(0,l._)("div",b,[(0,l._)("form",{class:"form",action:"#",method:"POST",onSubmit:t[4]||(t[4]=(0,o.iM)((t=>e.doAddToCart(e.content.id,e.productAmount,e.selectedColorValue)),["prevent"]))},[(0,l._)("b",g,(0,a.zw)(e.content.price)+" ₽ ",1),(0,l._)("fieldset",v,[w,(0,l._)("ul",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.product.colors,((s,c)=>((0,l.wg)(),(0,l.iD)("li",{key:c,class:"colors__item"},[(0,l._)("label",k,[(0,l.wy)((0,l._)("input",{class:"colors__radio sr-only",type:"radio",name:`${e.product.slug} colors`,value:s.color.id,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedColorValue=t)},null,8,S),[[o.G2,e.selectedColorValue]]),(0,l._)("span",{class:"colors__value",style:(0,a.j5)({"background-color":s.color.code})},null,4)])])))),128))])]),e.offersPrice?((0,l.wg)(),(0,l.iD)("fieldset",h,[(0,l._)("legend",T,(0,a.zw)(e.product.mainProp.title),1),(0,l._)("ul",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.offersPrice,((s,c)=>((0,l.wg)(),(0,l.iD)("li",{key:c,class:"sizes__item"},[(0,l._)("label",C,[(0,l.wy)((0,l._)("input",{class:"sizes__radio sr-only",name:`${e.product.slug} offers`,value:s.value,checked:s.value===e.selectedOffersValue,type:"radio","onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedOffersValue=t)},null,8,D),[[o.G2,e.selectedOffersValue]]),(0,l._)("span",z,(0,a.zw)(s.value),1)])])))),128))])])):(0,l.kq)("",!0),(0,l._)("div",P,[(0,l.Wm)(L,{modelValue:e.productAmount,"onUpdate:modelValue":t[2]||(t[2]=t=>e.productAmount=t)},null,8,["modelValue"]),(0,l._)("button",{disabled:e.addingStatus.isSending,class:"button button--primery",type:"submit"}," В корзину ",8,A)]),(0,l.Wm)(N,{open:e.addingStatus.isAdded,"onUpdate:open":t[3]||(t[3]=t=>e.addingStatus.isAdded=t)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Товар добавлен в корзину ")])),_:1},8,["open"]),e.addingStatus.isAdded?((0,l.wg)(),(0,l.iD)("div",Z,"Товар добавлен в корзину")):(0,l.kq)("",!0),e.addingStatus.isSending?((0,l.wg)(),(0,l.iD)("div",O,"Добавляем товар в корзину")):(0,l.kq)("",!0)],32)])]),(0,l._)("div",U,[(0,l.Wm)(j,{tabs:e.tabs,onSelectTab:e.switchTabs},null,8,["tabs","onSelectTab"]),((0,l.wg)(),(0,l.j4)((0,l.LL)(e.selectedTab),{product:e.product},null,8,["product"]))])])]))}var W=s(4877),B=s(9074),H=s(3918),L=s(2689),N=s(2558),j=s(5263),F=s(4870),G=s(9098),I=(0,l.aZ)({components:{CustomCounter:B.Z,PreloaderPic:W.Z,BaseModal:H.Z,BaseTabs:L.Z,DescriptionTab:N.Z,SpecificationsTab:j.Z},props:{productId:{type:[Number,String],required:!0},selectedOffer:{type:[Number,String]},selectedColor:{type:[Number,String]}},setup(e){const{product:t,category:s,fetchProduct:a,fetchStatus:o,addingStatus:c,addProduct:d,offersPrice:r,selectedOffersValue:i,selectedColorValue:u,content:n,tabs:_,switchTabs:p,selectedTab:m}=(0,G.Z)(),f=(0,F.iH)(1),b=(0,l.Fl)((()=>[{title:"Каталог",name:"main"},{title:s.value.title,name:"main"},{title:t.value.title,name:""}]));return a(e.productId),(0,l.bv)((()=>{i.value=e.selectedOffer,u.value=e.selectedColor})),{productAmount:f,productsData:t,productStatus:o,product:t,category:s,breadcrumbsData:b,addingStatus:c,doAddToCart:d,content:n,offersPrice:r,selectedOffersValue:i,selectedColorValue:u,tabs:_,switchTabs:p,selectedTab:m}}}),K=s(89);const M=(0,K.Z)(I,[["render",q]]);var Y=M}}]);
//# sourceMappingURL=474.c497dc6c.js.map